$def with (page)

$ _t = _.get_namespace('/type/author')
$ _ = _.get_namespace('/mode/view')

$var title: $page.name

$add_stylesheet('/static/css/search.css')

<div id="header-view">
    <br />
    <div style="float:left;padding-right:15px;">
        $if page.photograph:
            <div style="border: 1px solid #ccc;" />
                <div style="border: 7px solid #fff; height: 125px;" /><img src="$page.photograph" align="left" width="100" height="125" /></div>
            </div>
    </div>
    <div id="title">$page.name

$:macros.FlourishButton("edit", changequery(m='edit'), "right", "edition")

</div>
    <span class="book-details-italic">&nbsp;&nbsp;&nbsp;
    $if page.birth_date or page.death_date:
        $page.birth_date - $page.death_date
    </span>
</div>

<div class="maintext"> 
    $:format(page.get('bio', ''))

    $if page.website:
        <p><b>$_t.website:</b> <a href="$page.website" class="datalink">$page.website</a></p>
            
    $if page.location:
        <p><b>$_t.location:</b> $page.location</p>

    $if page.alternate_names:
        <p><b>$_t.alternate_names:</b> $", ".join(page.alternate_names)</p>
</div>

<!-- BEGIN SEARCH -->   

<br clear="all" />
<span class="subhead-emphasis" style="padding-left: 45px;">$_t.by_author</span>

<div id="browse-rule" style="margin-top: 20px;"></div>
<div id="biblio-form-body">
<div style="border-left: 1px solid #ccc; border-right: 1px solid #ccc;">
    $:macros.SearchResults(page.books)
</div>
</div>

<div class="copyright-footer">
$ books_page = safeint(query_param('books_page', '0'))
$if books_page != 0:
    &larr; <a href="$:changequery(books_page=books_page - 1)" class="datalink" rel="nofollow">$_.prev</a>
    
$if len(page.books) == 20:
    ... <a href="$:changequery(books_page=books_page + 1)" class="datalink" rel="nofollow">$_.next</a> &rarr;
</div>