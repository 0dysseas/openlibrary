{'type': {'name': 'type/macro'}, 'name': 'macros/HasFulltext', 'd': {'macro': "$def with (fname, fval)\r\n$if fname == 'has_fulltext':\r\n    $ d = {'0': 'Not available', '1': 'Available'}\r\n    $d[str(fval)]\r\n$elif fname == 'facet_year':\r\n    $if fval == 'pre1920': pre-1920\r\n    $elif fval == '2000': 2000-now\r\n    $else:\r\n         $ y = int(fval[slice(4)])\r\n         $(y)-$(y + 19)\r\n$else: $fval\r\n"}}