{'type': {'name': 'type/macro'}, 'name': 'macros/SearchResults', 'd': {'macro': '$def with (results, fulltext=False)\r\n\r\n<table border="0" cellpadding="0" cellspacing="0" width="100%" class="result-item">\r\n\r\n$for book in results:\r\n    $if fulltext:\r\n        $ pages = book[1]\r\n        $ book = book[0]\r\n    <tr><td class="cover"> \r\n    $if book.d.get(\'ISBN_10\'):\r\n        <a href="/$book.name"><img src="/static/bookcovers/full/$book.ISBN_10[0]/$book.ISBN_10[1]/${book.ISBN_10}.jpg"  alt="$book.title" border="1" height="58" /></a>\r\n    </td>\r\n    <td class="result-text" valign="top">\r\n        <a href="/$book.name" class="result">$book.title</a>\r\n        <span class="result-small">by \r\n        $for author in book.get(\'authors\', []):\r\n            $if hasattr(author, \'name\'):\r\n                <a href="/$author.name">$author.d.name</a>\r\n        </span>\r\n        <div class="result-small">\r\n            ($book.get(\'publisher\'), $book.get(\'publish_date\', \'\'))\r\n            $if book.d.get(\'physical_format\'): $book.physical_format\r\n            $if book.d.get(\'oca_identifier\'): &nbsp;&nbsp;<a href="http://openlibrary.org/details/$book.oca_identifier"><img src="/static/images/full.text.png" alt="Full Text" border="0" /></a>\r\n            </div>\r\n            $if fulltext:\r\n                <p>\r\n                $for pn, pg in pages:\r\n                    <a href="http://openlibrary.org/details/$book.oca_identifier/leaf$(pn / 2)">$pg</a> \xe2\x80\xa2\r\n                </p>\r\n    </td></tr>\r\n\r\n</table>\r\n'}}