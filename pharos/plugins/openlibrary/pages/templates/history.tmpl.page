{'type': {'name': 'type/template'}, 'name': 'templates/history.tmpl', 'd': {'body': '$def with (page)\r\n\r\n$var title: $page.name\r\n\r\n$:macros.databar(page)\r\n\r\n$:macros.AlertChanges(page)\r\n\r\n\r\n\r\n<div id="header">\r\n<div style="float:left;padding-left:10px;padding-right:15px;"><!img src="../covers/circle.jpg"  alt="" border="1" height="58" /></div>\r\n\t\t<span class="pretitle">Currently viewing the history for:<br /></span>\r\n        <div id="title">$page.name</div>\r\n</div>\r\n\r\n<div id="bibliography">\r\n<div id="browse-rule"></div>\r\n<div id="biblio-form-body">\r\n\r\n\r\n\r\n<form>\r\n<table cellpadding="0" cellspacing="0" border="0" width="100%">\r\n<tr>\r\n  <td class="numberhead" colspan="3"><img src="/static/images/number.png" alt="Number" border="0" /></td>\r\n  <td class="historyheader"></td>\r\n  <td class="historyheader"><img src="/static/images/who.png" alt="Who" border="0" /></td>\r\n  <td class="historyheader"><img src="/static/images/what.png" alt="What" border="0" /></td>\r\n  <td class="historyheader"><img src="/static/images/when.png" alt="When" border="0" /></td>\r\n\r\n</tr>\r\n<tr>\r\n\r\n$for v in page.h:\r\n    <tr>\r\n      <td class="number">$v.revision</td>\r\n      <td class="compare"><input type="radio" id="a$v.revision" name="a" value="$v.revision" selected=></td>\r\n      <td class="compare"><input type="radio" id="b$v.revision" name="b" value="$v.revision"></td>\r\n      <td class="history"><a href="$changequery(m=\'edit\', v=v.revision)">$_.EDIT</a></td>\r\n      $if v.author:\r\n          <td class="history"><a href="$homepath()/$v.author.name">$v.author.displayname</a></td>\r\n      $else:\r\n          <td class="history">$v.ip</td>\r\n      <td class="comment">$v.comment</td>\r\n      <td class="history"><a href="$changequery(m=None, v=v.revision)">$datestr(v.created)</a></td>\r\n    </tr>\r\n\r\n</table>\r\n<input type="hidden" name=\'m\' value="diff">\r\n<button type="submit"><img src="/static/images/compare.png" alt="Compare" /></button>\r\n\r\n</form>\r\n\r\n<script>\r\n\r\nvar a = document.getElementById("a${page.latest_revision - 1}");\r\nvar a2 = document.getElementById("a$page.latest_revision");\r\nvar b = document.getElementById("b$page.latest_revision");\r\n\r\nif (a) \r\n    a.checked = true;\r\nelse\r\n    a2.checked = true;\r\n\r\nb.checked = true;\r\n\r\n</script>\r\n\r\n</div>\r\n</div>\r\n</div>', 'title': 'History Template'}}